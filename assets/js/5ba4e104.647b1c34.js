"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[39],{134:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>d,toc:()=>o});const d=JSON.parse('{"id":"protocols/server-gui","title":"Protocole Serveur-GUI","description":"Vue d\'ensemble","source":"@site/docs/protocols/server-gui.md","sourceDirName":"protocols","slug":"/protocols/server-gui","permalink":"/Zappy/docs/protocols/server-gui","draft":false,"unlisted":false,"editUrl":"https://github.com/Epitech/Zappy/tree/main/docs/docusaurus/docs/protocols/server-gui.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Protocole Serveur-IA","permalink":"/Zappy/docs/protocols/server-ai"},"next":{"title":"Serveur Zappy","permalink":"/Zappy/docs/server/"}}');var r=s(4848),i=s(8453);const c={sidebar_position:2},l="Protocole Serveur-GUI",t={},o=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Connexion",id:"connexion",level:2},{value:"Format des commandes",id:"format-des-commandes",level:2},{value:"Informations initiales",id:"informations-initiales",level:2},{value:"Commandes du GUI",id:"commandes-du-gui",level:2},{value:"Notifications du serveur",id:"notifications-du-serveur",level:2},{value:"Format des ressources",id:"format-des-ressources",level:2},{value:"Exemple d&#39;\xe9change",id:"exemple-d\xe9change",level:2},{value:"Remarques",id:"remarques",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"protocole-serveur-gui",children:"Protocole Serveur-GUI"})}),"\n",(0,r.jsx)(n.h2,{id:"vue-densemble",children:"Vue d'ensemble"}),"\n",(0,r.jsx)(n.p,{children:"Ce document d\xe9taille le protocole de communication entre le serveur Zappy et l'interface graphique (GUI). Le protocole est bas\xe9 sur des \xe9changes textuels permettant \xe0 l'interface de visualiser l'\xe9tat du jeu en temps r\xe9el."}),"\n",(0,r.jsx)(n.h2,{id:"connexion",children:"Connexion"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Le GUI se connecte au serveur via TCP/IP"}),"\n",(0,r.jsxs)(n.li,{children:["Pour se diff\xe9rencier d'un client IA, le GUI envoie la commande : ",(0,r.jsx)(n.code,{children:"GRAPHIC\\n"})]}),"\n",(0,r.jsx)(n.li,{children:"Le serveur r\xe9pond avec les informations initiales sur la carte et les \xe9quipes"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"format-des-commandes",children:"Format des commandes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Chaque commande est envoy\xe9e comme une cha\xeene de caract\xe8res termin\xe9e par ",(0,r.jsx)(n.code,{children:"\\n"})]}),"\n",(0,r.jsxs)(n.li,{children:["Les r\xe9ponses du serveur sont \xe9galement termin\xe9es par ",(0,r.jsx)(n.code,{children:"\\n"})]}),"\n",(0,r.jsx)(n.li,{children:"Le GUI ne peut pas envoyer de commandes qui modifient le jeu, uniquement des requ\xeates d'information"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"informations-initiales",children:"Informations initiales"}),"\n",(0,r.jsxs)(n.p,{children:["Apr\xe8s la connexion avec la commande ",(0,r.jsx)(n.code,{children:"GRAPHIC"}),", le serveur envoie :"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Dimensions de la carte : ",(0,r.jsx)(n.code,{children:"msz X Y\\n"})," (largeur X, hauteur Y)"]}),"\n",(0,r.jsxs)(n.li,{children:["Unit\xe9 de temps : ",(0,r.jsx)(n.code,{children:"sgt T\\n"})," (temps par action en ms)"]}),"\n",(0,r.jsxs)(n.li,{children:["Contenu de chaque case : ",(0,r.jsx)(n.code,{children:"bct X Y q0 q1 q2 q3 q4 q5 q6\\n"})," (pour chaque case)"]}),"\n",(0,r.jsxs)(n.li,{children:["Noms des \xe9quipes : ",(0,r.jsx)(n.code,{children:"tna N\\n"})," (pour chaque \xe9quipe)"]}),"\n",(0,r.jsxs)(n.li,{children:["Positions et \xe9tats des joueurs : ",(0,r.jsx)(n.code,{children:"pnw # X Y O L N\\n"})," (pour chaque joueur)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"commandes-du-gui",children:"Commandes du GUI"}),"\n",(0,r.jsx)(n.p,{children:"Le GUI peut envoyer les commandes suivantes :"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Commande"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"R\xe9ponse"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"msz"})}),(0,r.jsx)(n.td,{children:"Dimensions de la carte"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"msz X Y\\n"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bct X Y"})}),(0,r.jsx)(n.td,{children:"Contenu d'une case"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bct X Y q0 q1 q2 q3 q4 q5 q6\\n"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mct"})}),(0,r.jsx)(n.td,{children:"Contenu de toutes les cases"}),(0,r.jsxs)(n.td,{children:["s\xe9rie de ",(0,r.jsx)(n.code,{children:"bct"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tna"})}),(0,r.jsx)(n.td,{children:"Noms des \xe9quipes"}),(0,r.jsxs)(n.td,{children:["s\xe9rie de ",(0,r.jsx)(n.code,{children:"tna N\\n"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ppo #"})}),(0,r.jsx)(n.td,{children:"Position d'un joueur"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ppo # X Y O\\n"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"plv #"})}),(0,r.jsx)(n.td,{children:"Niveau d'un joueur"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"plv # L\\n"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pin #"})}),(0,r.jsx)(n.td,{children:"Inventaire d'un joueur"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pin # X Y q0 q1 q2 q3 q4 q5 q6\\n"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sgt"})}),(0,r.jsx)(n.td,{children:"Unit\xe9 de temps"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sgt T\\n"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sst T"})}),(0,r.jsx)(n.td,{children:"Modifier l'unit\xe9 de temps"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sst T\\n"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"notifications-du-serveur",children:"Notifications du serveur"}),"\n",(0,r.jsx)(n.p,{children:"Le serveur envoie des notifications des \xe9v\xe9nements du jeu au GUI :"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Notification"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pnw # X Y O L N"})}),(0,r.jsx)(n.td,{children:"Nouveau joueur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pex #"})}),(0,r.jsx)(n.td,{children:"Expulsion d'un joueur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pbc # M"})}),(0,r.jsx)(n.td,{children:"Diffusion d'un message"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pic X Y L #n"})}),(0,r.jsx)(n.td,{children:"D\xe9but d'incantation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pie X Y R"})}),(0,r.jsx)(n.td,{children:"Fin d'incantation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pfk #"})}),(0,r.jsx)(n.td,{children:"Ponte d'un \u0153uf"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pdr # i"})}),(0,r.jsx)(n.td,{children:"Joueur l\xe2che ressource"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pgt # i"})}),(0,r.jsx)(n.td,{children:"Joueur prend ressource"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pdi #"})}),(0,r.jsx)(n.td,{children:"Mort d'un joueur"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enw # X Y"})}),(0,r.jsx)(n.td,{children:"Cr\xe9ation d'un \u0153uf"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"eht #e"})}),(0,r.jsx)(n.td,{children:"\xc9closion d'un \u0153uf"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"edi #e"})}),(0,r.jsx)(n.td,{children:"Mort d'un \u0153uf"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sgr"})}),(0,r.jsx)(n.td,{children:"Fin de partie"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"smg M"})}),(0,r.jsx)(n.td,{children:"Message du serveur"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"format-des-ressources",children:"Format des ressources"}),"\n",(0,r.jsx)(n.p,{children:"Le contenu des cases et inventaires (q0-q6) correspond aux ressources :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"q0 : nourriture"}),"\n",(0,r.jsx)(n.li,{children:"q1 : linemate"}),"\n",(0,r.jsx)(n.li,{children:"q2 : deraumere"}),"\n",(0,r.jsx)(n.li,{children:"q3 : sibur"}),"\n",(0,r.jsx)(n.li,{children:"q4 : mendiane"}),"\n",(0,r.jsx)(n.li,{children:"q5 : phiras"}),"\n",(0,r.jsx)(n.li,{children:"q6 : thystame"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"exemple-d\xe9change",children:"Exemple d'\xe9change"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GUI: GRAPHIC\\n\nSERVER: msz 8 8\\n\nSERVER: sgt 100\\n\nSERVER: bct 0 0 1 0 0 0 0 0 0\\n\nSERVER: bct 0 1 0 1 0 0 0 0 0\\n\n...\nSERVER: tna Team1\\n\nSERVER: tna Team2\\n\n...\nGUI: mct\\n\nSERVER: bct 0 0 1 0 0 0 0 0 0\\n\n...\nSERVER: pnw 1 3 2 1 1 Team1\\n\nSERVER: pic 3 2 1 1\\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"remarques",children:"Remarques"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Les coordonn\xe9es X et Y commencent \xe0 0"}),"\n",(0,r.jsx)(n.li,{children:"L'orientation O est un nombre de 1 \xe0 4 (1: Nord, 2: Est, 3: Sud, 4: Ouest)"}),"\n",(0,r.jsx)(n.li,{children:"Le niveau L des joueurs va de 1 \xe0 8"}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.h1,{id:"repr\xe9sente-lid-dun-joueur",children:"repr\xe9sente l'ID d'un joueur"}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"#n repr\xe9sente une liste d'IDs de joueurs"}),"\n",(0,r.jsx)(n.li,{children:"#e repr\xe9sente l'ID d'un \u0153uf"}),"\n",(0,r.jsx)(n.li,{children:"R est 0 (\xe9chec) ou 1 (succ\xe8s) pour les incantations"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var d=s(6540);const r={},i=d.createContext(r);function c(e){const n=d.useContext(i);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);